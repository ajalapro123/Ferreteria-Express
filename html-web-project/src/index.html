<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inicio - Ferreter√≠a Express</title>
  <link rel="stylesheet" href="./assets/css/styles.css">
  <style>
    /* Banner con fondo */
    .banner {
      background: url('./assets/img/fondo-banner.jpg') center/cover no-repeat;
      color: white;
      padding: 100px 20px;
      text-align: center;
      position: relative;
    }
    .banner::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(215, 212, 208, 0.6); /* Capa oscura */
      z-index: 1;
    }
    .banner-content {
      position: relative;
      z-index: 2;
    }
    .banner img {
      width: 220px;
      margin-bottom: 20px;
    }
    .banner h2 {
      font-size: 2.5rem;
      margin: 10px 0;
    }
    .banner p {
      font-size: 1.2rem;
      margin: 8px 0;
    }
    .btn-banner {
      margin-top: 20px;
      padding: 12px 25px;
      background: #ff6600;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
    }
    .btn-banner:hover {
      background: #e65c00;
    }

    /* Categor√≠as */
    .categorias {
      display: flex;
      justify-content: space-around;
      margin: 30px 0;
      flex-wrap: wrap;
    }
    .categorias div {
      background: #c5a723;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      width: 30%;
      margin: 10px;
      color: white;
    }

    /* Productos destacados */
    #productos {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin: 20px;
    }
    #productos div {
      border: 1px solid #ccc;
      padding: 15px;
      border-radius: 8px;
      background: rgb(248, 158, 3);
    }

    /* üí° Estilos del recuadro de sesi√≥n */
    .user-box {
      max-width: 920px;
      margin: 16px auto;
      padding: 14px 16px;
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      background: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,.05);
      font-size: 15px;
    }
    .user-box b { font-weight: 700; }
    .user-box .actions {
      margin-top: 8px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .btn-out {
      background: #e53935;
      color: #fff;
      border: 0;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 700;
    }
    .btn-account {
      background: #2563eb;
      color: #fff;
      border: 0;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 700;
    }
    
  </style>
</head>

<body>
  <header>
    <h1>Bienvenido a Ferreter√≠a Express</h1>
    <nav>
      <ul>
        <li><a href="./index.html">Inicio</a></li>
        <li><a href="./catalog/catalog.html">Cat√°logo</a></li>
        <li><a href="./cart/cart.html">Carrito</a></li>

        <!-- ‚úÖ Elementos controlados por auth.js -->
        <li><a id="link-login" href="./user/login.html">Login</a></li>
        <li><a id="link-reg" href="./user/register.html">Registro</a></li>
        <li><a id="link-logout" href="#" style="display:none">Cerrar sesi√≥n</a></li>
        <li><span id="saludo"></span></li>

        <!-- üî∏ Otros items normales -->
        <li><a href="./orders/history.html">Historial</a></li>
        <li><a href="./contact/contact.html">Contacto</a></li>
        <li><a href="./support/support.html">Soporte</a></li>
      </ul>
    </nav>
    <!-- Pastilla de sesi√≥n (la rellena auth.js) -->
<div id="user-pill" class="user-pill" hidden></div>

  </header>

 <!-- ‚úÖ Recuadro de sesi√≥n (se muestra solo si hay usuario logueado) -->
<div id="user-box" hidden></div>
<!-- Se llena desde auth.js -->

  <!-- Banner -->
  <section class="banner">
    <div class="banner-content">
      <img src="./assets/img/logo.png" alt="Logo Ferreter√≠a Express">
      <h2>Centro de Herramientas</h2>
      <p>Todo tipo de herramientas manuales y el√©ctricas.</p>
      <p>Env√≠os a todo Colombia</p>
      <a href="./catalog/catalog.html" class="btn-banner">Ver Cat√°logo</a>
    </div>
  </section>

    <section>
    <h2 style="text-align:center;margin-top:30px">Productos Destacados</h2>
    <div id="productos"></div>
  </section>

  <!-- Script para cargar productos -->
  <script>
    fetch("https://ferreteriaexpress.shop/api/productos")
      .then(response => response.json())
      .then(data => {
        let contenedor = document.getElementById("productos");
        contenedor.innerHTML = "";
        data.slice(0, 4).forEach(p => { //solo muestra 4 productos
          contenedor.innerHTML += `
            <div>
              <h3>${p.nombre}</h3>
              <p><b>Precio:</b> $${p.precio}</p>
              <p><b>Disponible:</b> ${p.cantidad}</p>
            </div>
          `;
        });
      })
      .catch(err => console.error("Error cargando productos:", err));
  </script>

  <!-- ‚úÖ Script de autenticaci√≥n -->
  <script src="./assets/js/auth.js" defer></script>

</body>
</html>

